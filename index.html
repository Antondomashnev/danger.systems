<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <title>Danger - Stop Saying "You Forgot To..." in Code Review</title>

    <link href="/stylesheets/style-487ba2fc.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.0.0.slim.min.js"></script>
  </head>

  <body class="index">
    <code class="byline">a project from <a href="http://orta.io">orta therox</a> and <a href="http://krausefx">felix krause</a>.</code><header class="title"><p>Danger</p><img src="/images/title-704b3238.png" class="retina" alt="Danger title image" width="980" height="236" /></header><section><h2><span>What is Danger?</span></h2><article><p>Danger runs after your CI, and gives teams the chance to automate common code review chores.</p><p>This provides another logical step in your process, through this Danger can help lint your rote tasks in daily code review.</p><p>You can use Danger to codify your teams norms. Leaving humans to think about harder problems.</p></article><div class="clearfix"></div></section><section class="examples"><h2><span>For Example</span></h2><ul><li class="changelog" data-prs="CocoaPods/CocoaPods/pull/5413" data-repos="artsy/eigen, cocoapods/cocoapods, realm/jazzy"><a>Enforce Changelogs</a></li><li class="focus" data-prs="Moya/Moya/pull/521" data-repos="artsy/eigen, moya/moya"><a>Dont Focus Tests</a></li><li class="prose" data-prs="ashfurrow/blog/pull/218" data-repos=""><a>Lint Blog Post Prose</a></li><li class="merges" data-prs="CocoaPods/CocoaPods/pull/5413" data-repos=""><a>Ensure no Merges</a></li><li class="existing" data-prs="CocoaPods/CocoaPods/pull/5413" data-repos=""><a>Check for Existing Issues</a></li><li class="alert" data-prs="CocoaPods/CocoaPods/pull/5413" data-repos="artsy/eigen, cocoapods/cocoapods"><a>Alert File Owners</a></li><li class="build_times" data-prs="CocoaPods/CocoaPods/pull/5413" data-repos="artsy/eigen, cocoapods/cocoapods"><a>Check Build Times</a></li></ul><div><code><figure class="changelog">
  # Add a CHANGELOG entry for app changes
  if !modified_files.include?("CHANGELOG.md") &amp;&amp; has_app_changes
    fail("Please include a CHANGELOG entry. \nYou can find it at [CHANGELOG.md](https://github.com/realm/jazzy/blob/master/CHANGELOG.md).")
    message "Note, we hard-wrap at 80 chars and use 2 spaces after the last line."
  end
</figure>

<figure class="focus" style="display:none;">
  # Don't let testing shortcuts get into master by accident
  fail("fit left in tests") if `grep -r "fit Demo/Tests/ `.length &gt; 1
</figure>

<figure class="prose" style="display:none;">
  def something()
    puts “OK”
  end
</figure>
<figure class="merges" style="display:none;">
  def something()
    puts “OK”
  end
</figure>
<figure class="existing" style="display:none;">
  def something()
    puts “OK”
  end
</figure>
<figure class="alert" style="display:none;">
  def something()
    puts “OK”
  end
</figure>
<figure class="build_times" style="display:none;">
  def something()
    puts “OK”
  end
</figure>
</code><ref># See artsy/eigen</ref></div><div class="clearfix"></div></section><section><h2><span>What magic is this?</span></h2><article><h3>How</h3><p>Danger is ruby gem that runs a <code>Dangerfile</code>, you set up a <code>Dangerfile</code> per-project. The <code>Dangerfile</code> contains a collection of home-grown rules specific to your project.</p>

<p>Danger should be installed via a Gemfile. Add <code>gem "danger"</code> to your Gemfile, then run <code>bundle</code>.</p>

<p>You can integrate Danger into your own project on any available CI service. She will run through the process with you if you run  <code>danger init</code> after installation.</p>
</article><article><h3>Supports</h3><p><strong>Can be run on</strong>: Circle, Travis, Jenkins, Buildkite, Xcode Bots, Drone.</p><p><strong>Can chat back on</strong>: GitHub</p><p><strong>Can handle diffs from</strong>: Git</p><h3>Danger DSL</h3><p><code>
message("message") - Declares a CI message
warn("message") - Declares a CI warning
fail("message") - Declares a CI blocking error
markdown("message") - Outputs markdown
</code></p>
</article><div class="clearfix"></div><section><h2><span>Plugins</span></h2><article><p>Danger was built to be a small core, which allows others to extend her DSL via gems as plugins. You can create a new one with `danger plugin create`.</p></article><div class="clearfix"></div><article><h3>DangerProse</h3><p>Lint markdown files inside your projects.
This is done using the <a href="http://proselint.com">proselint</a> python egg.
Results are passed out as a table in markdown.</p>
<h3>Reference</h3><h4>Attributes</h4><div class="fake_code"><p>Allows you to disable a collection of linters from being ran.
You can get a list of <a href="https://github.com/amperser/proselint#checks">them here</a></p>
</div><code>disable_linters</code><h4>Methods</h4><div class="fake_code"><p>Lints the globbed files, will only fail if <code>proselint</code> cannot be installed correctly.
Generates a <code>markdown</code> list of warnings for the prose in a corpus of .markdown and .md files.</p>
</div><code>lint_files</code><div class="fake_code"><p>Determine if proselint is currently installed in the system paths.</p>
</div><code>proselint_installed?</code></article><article><h3>Examples</h3><h4>Specifying custom CocoaPods installation options</h4><code><blockquote>
<br># Runs a linter with comma style disabled
<br>proselint.disable_linters = [“misc.scare_quotes”, "misc.tense_present"]
<br>proselint.lint_files “_posts/*.md”
<br>
<br># Runs a linter with all styles, on modified and added markpown files in this PR
<br>proselint.lint_files</blockquote></code><h3>Tags</h3><code></code><h3>See in Action</h3><ul><li><a href="https://github.com/artsy/artsy.github.io">artsy/artsy.github.io</a></li></ul></article><div class="clearfix"></div></section><section><h2><span>Meta</span></h2><article><p>Danger was built to be a small core, which allows others to extend her DSL via gems as plugins. You can create a new one with `danger plugin create`.</p></article><div class="clearfix"></div></section></section><script>$(function() {
  $("section.examples ul li").mouseover(function(event) {
    event.preventDefault()

    // Set the corresponding code
    var klass = $(this).attr("class").replace(" highlighted", "")
    console.log(klass)
    // Set selection
    $("section.examples ul li").removeClass("highlighted")
    $(this).addClass("highlighted")

    $("section.examples code figure").css("display", "none")
    $("section.examples code figure." + klass).css("display", "block")

     // Figure out the reference text
   var urls = $(this).data("repos").split(", ")
   var prs = $(this).data("prs").split(", ")
   var toGithubLink = function(ref) {
       return "<a href='https://github.com/" + ref + "''>" + ref + "</a>"
    }
    var showArray = function(array) {
      if (array.length > 1) { return true }
      if (array.length == 0) { return false }
      return array[0].length > 0
    }

    // Set the reference text under the code for people to inspect
    var text = ""
    if (showArray(urls)) {
      text += "@see_repo " + urls.map(toGithubLink).join(", ")
    }
    if (showArray(urls) && showArray(prs)) {
      text += "<br/>"
    }
    if (showArray(prs)) {
      text += "@see_pr "+ prs.map(toGithubLink).join(", ")
    }
    $("section.examples ref").html(text)
  })

  // Set the selection to be the first
  $("section.examples ul li:first-child").trigger('mouseenter')
});</script>
  </body>
</html>